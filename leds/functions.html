<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">

    <title>LED: Functions</title>

    <link rel="icon" type="image/png" href="ledFav-48.png" sizes="48x48">

    <link href="../prism.css" rel="stylesheet" />
    <link href="../programmingLessons.css" rel="stylesheet" />

    <script type="text/javascript" src="../uSvg-0.4.js"></script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS_SVG">
    </script>
    <script type="text/javascript" src="../jquery-3.6.0.min.js"></script>
    <script type="text/javascript" src="../exercises.js"></script>
    <script type="text/javascript" src="./ledFuncs.js"></script>

    <script type="text/javascript">
      nPix = 20;
    </script>

    <style media="screen">

    </style>

  </head>
  <body>
    <!-- HEADERS -->
    <div class="nav">
      <a href="../leds/index.html">LEDs Index</a>
      <a href="../quickRef/">Python Quick Ref</a>
      <hr>
    </div>
    <!-- END HEADERS -->

    <div class="intro">
      <h1>Functions </h1>

      <div style="">
        <div class="test" style='padding:2em;'>
          Functions are bits of code that do specific things so you don't have to recreate the wheel every time you have to do something. The idea is that you can hide the inner working of the function, which makes it easier to think about other things you're trying to do.

          <p>Functions should make life easier.</p>
        </div>

        <div class='alertNote'>
          <b>Note on Pico vs. Zero:</b>
          <ol>
            <li>For the Pico use <code>board.GP0</code> instead of <code>board.D18</code> because they are set up to use different input pins by default. </li>
          </ol>

        </div>

        <p>
          References:
          <ol>
            <li><a href="../quickRef/index.html#functions">QuickRef: Functions</a></li>
          </ol>

        </p>

      </div>
    </div>




    <div class="mainTable" >


      <!-- NEW ROW -->
        <!-- LEFT COLUMN -->
        <div class="uSection">
          <h2> Why Functions </h2>

          <p>
            To turn off all the lights we just need a simple loop:
          </p>

          <div class="pythonCode">
            <pre class="line-numbers"><code class="language-python" >
            for i in range(20):
              pixels[i] = (0,0,0)
            </code></pre>
          </div>

          <p>
            However, as we write more interesting lighting sequences, we'll find that we need to do this quite often, so we can create a shortcut that we'll call a function.
          </p>




        </div>
        <!-- END LEFT COLUMN -->

        <!-- RIGHT COLUMN -->
        <div class="uSection">


          <!-- BEGIN ASSIGNMENT -->
          <div class='assignment'>
            <div id="functions-assignment-1" class="instruction">

              <h4> Assignment 1 </h4>

              Write a program to do the following (you don't have to use functions to do it),
              <ol>
                <li>
                  Light up all of the lights (green) (in sequence with a 0.1 second delay),
                </li>
                <li>
                  Turn off the lights
                </li>
                <li>
                  Wait for 1 second,
                </li>
                <li>
                  Light up all the lights again (red)
                </li>
                <li>
                  Turn off the lights
                </li>
              </ol>


              <div class="LedAnimation">
                <input type="button" onclick="ex_fpat1()"  value="Play">
                <input type="button" onclick="resetLEDs()"  value="Reset">
                <script type="text/javascript">
                  //create blank led strip
                  var leds = getLEDs();
                  var ct = 0;

                  function ex_fpat1(){
                    animateLEDs( function(leds){
                      t = lightSequence(leds, { color:"lightgreen"});
                      t = clearLeds(leds, {startTime:t, pauseAfter:1});
                      t = lightSequence(leds, {startTime:t});
                      t = clearLeds(leds, {startTime:t});

                    })
                  }

                </script>
              </div>

            </div>

            <div class="toggle-next">Code ▼</div>
            <div class="results" hidden>

              <div class="pythonCode">
                <pre class="line-numbers"><code class="language-python" >
                import board
                import neopixel
                import time

                pixels = neopixel.NeoPixel(board.GP0, 20)

                # make lights green in sequence
                for i in range(20):
                  pixels[i] = (0,10,0)
                  time.sleep(0.1)

                # turn off lights
                for i in range(20):
                  pixels[i] = (0,0,0)

                # wait 1 second
                time.sleep(1)

                # make lights red in sequence
                for i in range(20):
                  pixels[i] = (10,0,0)
                  time.sleep(0.1)

                # turn off lights
                for i in range(20):
                  pixels[i] = (0,0,0)

                </code></pre>
              </div>
            </div>


          </div>
          <!-- END ASSIGNMENT -->




        </div>
        <!-- END RIGHT COLUMN -->

      <!-- END ROW -->





      <!-- NEW ROW -->
        <!-- LEFT COLUMN -->
        <div class="uSection">

          <h2>Writing Functions (Turn off the lights) </h2>

          <p>
            A function to turn off the lights looks like this:
          </p>

          <div class="pythonCode">
            <pre class="line-numbers"><code class="language-python" >
              def lightsOff():
                for i in range(20):
                  pixels[i] = (0,0,0)
            </code></pre>
          </div>

          <p>
            <ul>
              <li><code>def lightsOff():</code> </li>
              <ul>
                <li>Define the function and give it a name "lightsOff"</li>
              </ul>
              <li>Everything tabbed over after the function definition is in the function: it's what's done when the function is <em>called</em>.</li>
              <li>The function is usually defined at or near the top of the code (later on we'll actually put it in its own file.)</li>
              <li>The function is <b><em>called</em></b> in the program when it's needed. </li>
            </ul>
          </p>

          <p>
            Let's redo <a href="#functions-assignment-1">Assignment 1</a> but use a function to turn the lights off. The function is defined on lines 7-10, and called twice on lines 20 and 31.
          </p>

          <div class="LedAnimation">
            <input type="button" onclick="ex_fpat2()"  value="Play">
            <input type="button" onclick="resetLEDs()"  value="Reset">
            <script type="text/javascript">
              //create blank led strip
              var leds = getLEDs();
              var ct = 0;

              function ex_fpat2(){
                animateLEDs( function(leds){
                  t = lightSequence(leds, { color:"deepskyblue"});
                  t = clearLeds(leds, {startTime:t, pauseAfter:1});
                  t = lightSequence(leds, {startTime:t});
                  t = clearLeds(leds, {startTime:t});

                })
              }

            </script>
          </div>

          <div class="pythonCode">
            <pre class="line-numbers" data-line="7-10,19-20,30-31"><code class="language-python" >
            import board
            import neopixel
            import time

            pixels = neopixel.NeoPixel(board.GP0, 20)

            # FUNCTION: to turn off all the lights
            def lightsOff():
              for i in range(20):
                pixels[i] = (0,0,0)


            # MAIN PROGRAM STARTS HERE
            # make lights blue in sequence
            for i in range(20):
              pixels[i] = (0,0,10)
              time.sleep(0.1)

            # CALL the function to turn off lights
            lightsOff()

            # wait 1 second
            time.sleep(1)

            # make lights red in sequence
            for i in range(20):
              pixels[i] = (10,0,0)
              time.sleep(0.1)

            # CALL the function to turn off lights
            lightsOff()

            </code></pre>
          </div>

          <p>

          </p>


        </div>
        <!-- END LEFT COLUMN -->

        <!-- RIGHT COLUMN -->
        <div class="uSection">

          <!-- BEGIN ASSIGNMENT -->
          <div class='assignment'>
            <div id="functions-assignment-1" class="instruction">

              <h4> Assignment 2 </h4>

                Write a function called <code>allBlue</code> that turns all of the lights blue (in sequence with a 0.1 second timestep), and use it in a program that:

                <ol>
                  <li>
                    Light up all of the lights (blue) (in sequence with a 0.1 second delay),
                  </li>
                  <li>
                    Turn off the lights
                  </li>
                  <li>
                    Wait for 1 second,
                  </li>
                  <li>
                    Light up all the lights again (red)
                  </li>
                  <li>
                    Turn off the lights
                  </li>
                  <li>
                    Wait for 1 second,
                  </li>
                  <li>
                    Light up all the lights again (blue)
                  </li>
                </ol>

              <div class="LedAnimation">
                <input type="button" onclick="ex_fpat3()"  value="Play">
                <input type="button" onclick="resetLEDs()"  value="Reset">
                <script type="text/javascript">
                  //create blank led strip
                  var leds = getLEDs();
                  var ct = 0;

                  function ex_fpat3(){
                    animateLEDs( function(leds){
                      t = lightSequence(leds, { color:"deepskyblue"});
                      t = clearLeds(leds, {startTime:t, pauseAfter:1});
                      t = lightSequence(leds, {startTime:t});
                      t = clearLeds(leds, {startTime:t});
                      t = lightSequence(leds, {startTime:t, color:"deepskyblue"});

                    })
                  }

                </script>
              </div>

            </div>

            <div class="toggle-next">Code ▼</div>
            <div class="results" hidden>

              <div class="pythonCode">
                <pre class="line-numbers"><code class="language-python" >
                  import board
                  import neopixel
                  import time

                  pixels = neopixel.NeoPixel(board.GP0, 20)

                  # FUNCTION: to turn off all the lights
                  def lightsOff():
                    for i in range(20):
                      pixels[i] = (0,0,0)

                  # FUNCTION: to make all leds blue
                  def allBlue():
                    for i in range(20):
                      pixels[i] = (0,0,10)
                      time.sleep(0.1)

                  # MAIN PROGRAM STARTS HERE

                  allBlue()       # make lights blue
                  lightsOff()     # turn off lights
                  time.sleep(1)   # wait one second

                  # make lights red in sequence
                  for i in range(20):
                    pixels[i] = (10,0,0)
                    time.sleep(0.1)

                  # CALL the function to turn off lights
                  lightsOff()     # turn lights off
                  time.sleep(1)   # wait one second
                  allBlue()       # make lights blue

                </code></pre>
              </div>
            </div>


          </div>
          <!-- END ASSIGNMENT -->

        </div>
        <!-- END RIGHT COLUMN -->

      <!-- END ROW -->







      <!-- NEW ROW -->
        <!-- LEFT COLUMN -->
        <div class="uSection">

          <h2 id="passing-parameters">Passing Parameters </h2>

          <p>
            We could make separate functions that light up all the different colors in sequence (you may have already done so for the red lights in Assignment 2). However, this would be easier to handle if we could tell the function which color to use.
          </p>

          <p>
            So we'll <b>pass a parameter</b> called <code>color</code> to a function, which will use that color.
          </p>

          <p>
            Let's call the function <code>lightSequence</code>.
          </p>

          <div class="pythonCode">
            <pre class="line-numbers"><code class="language-python" >
              def lightSequence(color):
                for i in range(20):
                  pixels[i] = color
                  time.sleep(0.1)

              lightSequence( (10,0,0) )       # call to make lights red
              lightSequence( (0,0,10) )       # call to make lights blue
            </code></pre>
          </div>

          <p>
            In the call to the function with <code>lightSequence( (10,0,0) )</code>, we pass the color (e.g. red <code>(10,0,0)</code> in the first call).
          </p>

          <p>
            The function definition, <code>def lightSequence(color):</code> expects to be passed one <b><em>parameter</em> </b> called "color", that the function uses to set the led colors on line 3.
          </p>







        </div>
        <!-- END LEFT COLUMN -->

        <!-- RIGHT COLUMN -->
        <div class="uSection">


          <!-- BEGIN ASSIGNMENT -->
          <div class='assignment'>
            <div id="functions-assignment-1" class="instruction">

              <h4> Assignment 3 </h4>

                Use the <code>lightSequence</code> function to:
                <ol>
                  <li>
                    Light up all of the lights (red) (in sequence with a 0.1 second delay),
                  </li>
                  <li>
                    Turn off the lights then wait for 1 second.
                  </li>
                  <li>
                    Light up all the lights again (green)
                  </li>
                  <li>
                    Turn off the lights then wait for 1 second.
                  </li>
                  <li>
                    Light up all the lights again (blue)
                  </li>
                  <li>
                    Turn off the lights then wait for 1 second.
                  </li>
                  <li>
                    Light up all the lights again (yellow)
                  </li>
                </ol>

                <div class="LedAnimation">
                  <input type="button" onclick="ex_fpat4()"  value="Play">
                  <input type="button" onclick="resetLEDs()"  value="Reset">
                  <script type="text/javascript">
                    //create blank led strip
                    var leds = getLEDs();
                    var ct = 0;

                    function ex_fpat4(){
                      animateLEDs( function(leds){
                        t = lightSequence(leds, { color:"red"});
                        t = clearLeds(leds, {startTime:t, pauseAfter:1});
                        t = lightSequence(leds, {startTime:t, color:"lightgreen"});
                        t = clearLeds(leds, {startTime:t, pauseAfter:1});
                        t = lightSequence(leds, {startTime:t, color:"deepskyblue"});
                        t = clearLeds(leds, {startTime:t, pauseAfter:1});
                        t = lightSequence(leds, {startTime:t, color:"yellow"});

                      })
                    }

                  </script>
                </div>

            </div>

            <div class="toggle-next">Code ▼</div>
            <div class="results" hidden>

              <div class="pythonCode">
                <pre class="line-numbers"><code class="language-python" >
                  import board
                  import neopixel
                  import time

                  pixels = neopixel.NeoPixel(board.GP0, 20)

                  # FUNCTION: to turn off all the lights
                  def lightsOff():
                      for i in range(20):
                        pixels[i] = (0,0,0)

                  # FUNCTION: to light up all the lights with a given color
                  def lightSequence(color):
                      for i in range(20):
                        pixels[i] = color
                        time.sleep(0.1)

                  # MAIN PROGRAM STARTS HERE

                  lightSequence( (10,0,0) )       # make lights red
                  lightsOff()
                  time.sleep(1)

                  lightSequence( (0,10,0) )       # make lights green
                  lightsOff()
                  time.sleep(1)

                  lightSequence( (0,0,10) )       # make lights blue
                  lightsOff()
                  time.sleep(1)

                  lightSequence( (10,10,0) )       # make lights yellow

                </code></pre>
              </div>
            </div>


          </div>
          <!-- END ASSIGNMENT -->



          <!-- BEGIN ASSIGNMENT -->
          <div class='assignment'>
            <div id="functions-assignment-1" class="instruction">

              <h4> Assignment 4 </h4>

                Write a function that lights the LEDs backwards and use it to:
                <ol>
                  <li>
                    Light up all of the lights (red) (in sequence with a 0.1 second delay),
                  </li>
                  <li>
                    Turn off the lights (no wait)
                  </li>
                  <li>
                    Light up all the lights backwards (green)
                  </li>
                  <li>
                    Light up all the lights again (blue)
                  </li>
                  <li>
                    Light up all the lights backwards (red)
                  </li>
                </ol>

                <div class="LedAnimation">
                  <input type="button" onclick="ex_fpat5()"  value="Play">
                  <input type="button" onclick="resetLEDs()"  value="Reset">
                  <script type="text/javascript">
                    //create blank led strip
                    var leds = getLEDs();
                    var ct = 0;

                    function ex_fpat5(){
                      animateLEDs( function(leds){
                        t = lightSequence(leds, { color:"red"});
                        t = clearLeds(leds, {startTime:t, pauseAfter:0});
                        t = lightBackwards(leds, {startTime:t, color:"lightGreen"});
                        t = lightSequence(leds, {startTime:t, color:"deepskyblue"});
                        t = lightBackwards(leds, {startTime:t, color:"red"});
                      })
                    }

                  </script>
                </div>


            </div>

            <div class="toggle-next">Code ▼</div>
            <div class="results" hidden>

              <div class="pythonCode">
                <pre class="line-numbers"><code class="language-python" >
                  We believe in you.

                </code></pre>
              </div>
            </div>

            <div class="pythonCode" hidden>
              <pre class="line-numbers"><code class="language-python" >
                import board
                import neopixel
                import time

                pixels = neopixel.NeoPixel(board.GP0, 20)

                # FUNCTION: to turn off all the lights
                def lightsOff():
                    for i in range(20):
                      pixels[i] = (0,0,0)

                # FUNCTION: to light up all the lights with a given color
                def lightSequence(color):
                    for i in range(20):
                      pixels[i] = color
                      time.sleep(0.1)

                def lightBackwards(color):
                    for i in range(19, -1, -1):
                      pixels[i] = color
                      time.sleep(0.1)

                # MAIN PROGRAM STARTS HERE

                lightSequence( (10,0,0) )       # make lights red
                lightsOff()

                lightBackwards( (0,10,0) )       # make lights green
                lightSequence( (0,0,10) )       # make lights red
                lightBackwards( (10,0,0) )
              </code></pre>
            </div>


          </div>
          <!-- END ASSIGNMENT -->


        </div>
        <!-- END RIGHT COLUMN -->

      <!-- END ROW -->





      <!-- NEW ROW -->
        <!-- LEFT COLUMN -->
        <div class="uSection">

          <h2 id="passing-parameters">Passing Multiple Parameters </h2>

          <p>
            You can pass multiple variables to a function, they just need to be <b>comma separated</b>. For example, a function to make three lights red, blue, and green respectively would look like:
          </p>

          <script type="text/javascript">
            var leds = getLEDs();
            leds[1].style.backgroundColor = "red";
            leds[4].style.backgroundColor = "lightgreen";
            leds[10].style.backgroundColor = "deepskyblue";
          </script>

          <div class="pythonCode">
            <pre class="line-numbers"><code class="language-python" >
              def lightRGB(a, b, c):
                pixels[a] = (10,0,0)
                pixels[b] = (0,10,0)
                pixels[c] = (0,0,10)

              # function call
              lightRGB(1, 4, 10)
            </code></pre>
          </div>

          <div class="toggle-next">Full Program ▼</div>
          <div class="results" hidden>

            <div class="pythonCode">
              <pre class="line-numbers"><code class="language-python" >
                import board
                import neopixel
                import time

                pixels = neopixel.NeoPixel(board.GP0, 20)

                def lightRGB(a, b, c):
                  pixels[a] = (10,0,0)
                  pixels[b] = (0,10,0)
                  pixels[c] = (0,0,10)

                # function call
                lightRGB(1, 4, 10)

              </code></pre>
            </div>
          </div>


        </div>
        <!-- END LEFT COLUMN -->

        <!-- RIGHT COLUMN -->
        <div class="uSection">




          <!-- BEGIN ASSIGNMENT -->
          <div class='assignment'>
            <div id="functions-assignment-1" class="instruction">

              <h4> Assignment 5 </h4>

                Write a function called <code>lightUp</code> that you can pass a number of lights to and it will light up that many lights in sequence (0.1 second delay between lights). For example, if you passed it the number 7, 7 LEDs would light up.
                <ol>
                  <li>
                    Light up the first 5 lights (red) (in sequence with a 0.1 second delay),
                  </li>
                  <li>
                    Light up the first 10 lights (green) in sequence
                  </li>
                  <li>
                    Light up all the lights (blue) in sequence
                  </li>
                  <li>
                    Light just the first 10 lights (red) in sequence
                  </li>
                  <li>
                    Light just the first 5 lights (yellow) in sequence
                  </li>
                </ol>

                <div class="LedAnimation">
                  <input type="button" onclick="ex_fpat6()"  value="Play">
                  <input type="button" onclick="resetLEDs()"  value="Reset">
                  <script type="text/javascript">
                    //create blank led strip
                    var leds = getLEDs();
                    var ct = 0;

                    function ex_fpat6(){
                      animateLEDs( function(leds){
                        t = lightSequence(leds, { n: 5, color:"red"});
                        t = lightSequence(leds, {n: 10, startTime:t, color:"lightGreen"});
                        t = lightSequence(leds, {startTime:t, color:"deepskyblue"});
                        t = lightSequence(leds, {n: 10, startTime:t, color:"red"});
                        t = lightSequence(leds, {n: 5, startTime:t, color:"yellow"});
                      })
                    }

                  </script>
                </div>


            </div>

            <div class="toggle-next">Code ▼</div>
            <div class="results" hidden>

              <div class="pythonCode">
                <pre class="line-numbers"><code class="language-python" >
                  import board
                  import neopixel
                  import time

                  pixels = neopixel.NeoPixel(board.GP0, 20)

                  # FUNCTION: to turn off all the lights
                  def lightsOff():
                      for i in range(20):
                        pixels[i] = (0,0,0)

                  # FUNCTION: to light up a given number of lights (n) with a given color (color)
                  def lightUp(n, color):
                      for i in range(n):
                        pixels[i] = color
                        time.sleep(0.1)

                  # MAIN PROGRAM STARTS HERE

                  lightUp(5, (10,0,0))
                  lightUp(10, (0,10,0))
                  lightUp(20, (0,0,10))
                  lightUp(10, (10,0,0))
                  lightUp(5, (5,5,0))
                </code></pre>
              </div>
            </div>


          </div>
          <!-- END ASSIGNMENT -->





        </div>
        <!-- END RIGHT COLUMN -->

      <!-- END ROW -->




      <!-- NEW ROW -->
        <!-- LEFT COLUMN -->
        <div class="uSection">

          <h2 id="parameters-errors">Error Messages: Passing Parameters</h2>

          <p>
            What happens when you pass too many, or too few parameters?
          </p>
          <p>
            Understanding error messages is a lot easier if you've seen them before. So it's useful to make intentional errors and observe the resulting errom messages.
          </p>

          <!-- BEGIN ASSIGNMENT -->
          <div class='assignment'>
            <div id="functions-assignment-1" class="instruction">

                <p>
                  What error message do you get when you forget to pass a variable to a function that needs one?
                </p>
                <p>
                  The <code>lightRGB</code> function below requires 3 parameters (a, b, and c), but if we put in only two paramters in the function call:
                </p>

            </div>

            <div class="demo-code">

              <div class="pythonCode">
                <pre class="line-numbers" data-line="1,7"><code class="language-python" >
                  def lightRGB(a, b, c):  # requires 3 parameters
                    pixels[a] = (10,0,0)
                    pixels[b] = (0,10,0)
                    pixels[c] = (0,0,10)

                  # function call
                  lightRGB(1, 4)  #passing only 2 paramters
                </code></pre>
              </div>
            </div>

            <div class="toggle-next">Error Message ▼</div>
            <div class="results">

              <div class="pythonCode">
                <pre class="line-numbers"><code class="language-bash" >
                  Traceback (most recent call last):
                    File "<stdin>", line 13, in <module>
                  TypeError: function takes 3 positional arguments but 2 were given
                </code></pre>
              </div>
            </div>


          </div>
          <!-- END ASSIGNMENT -->


        </div>
        <!-- END LEFT COLUMN -->

        <!-- RIGHT COLUMN -->
        <div class="uSection">




          <!-- BEGIN ASSIGNMENT -->
          <div class='assignment'>
            <div id="functions-assignment-1" class="instruction">

              <h4> Assignment 6: Error Messages when Passing Parameters </h4>

                What error message do you get when you pass too many variables to the <code>lightRGB</code> function?

            </div>

            <div class="toggle-next">Code ▼</div>
            <div class="results" hidden>

              <div class="pythonCode">
                <pre class="line-numbers" data-line="7,13"><code class="language-python" >
                  import board
                  import neopixel
                  import time

                  pixels = neopixel.NeoPixel(board.GP0, 20)

                  def lightRGB(a, b, c):
                    pixels[a] = (10,0,0)
                    pixels[b] = (0,10,0)
                    pixels[c] = (0,0,10)

                  # function call
                  lightRGB(1, 4, 10, 15)

                </code></pre>
              </div>
            </div>

            <div class="toggle-next">Error Message ▼</div>
            <div class="results" hidden>

              <div class="pythonCode">
                <pre class="line-numbers"><code class="language-bash" >
                  Traceback (most recent call last):
                    File "<stdin>", line 13, in <module>
                  TypeError: function takes 3 positional arguments but 4 were given
                </code></pre>
              </div>
            </div>


          </div>
          <!-- END ASSIGNMENT -->





        </div>
        <!-- END RIGHT COLUMN -->

      <!-- END ROW -->






      <!-- NEW ROW -->
        <!-- LEFT COLUMN -->
        <div class="uSection">

          <h2 id="default-parameters">Default Parameters</h2>

          <p>
            The <code>lightUp</code> function can light any given number of leds and sets their color.
          </p>

          <div class="pythonCode">
            <pre class="line-numbers" data-line="1,7"><code class="language-python" >
              def lightUp(n, color):
                  for i in range(n):
                    pixels[i] = color
                    time.sleep(0.1)
            </code></pre>
          </div>

          <p>
            However, we might frequently want to light up all the leds. We can set it up so that the function does that by default if you don't pass it a number parameter (n). Because python does not like it if you have non-default parameters after default parameters, we'll also set a default color ("blue").
            <ul>
              <li>Default <code>n</code>: 20 </li>
              <li>Default <code>color</code>: (0, 0, 10) </li>
            </ul>
          </p>

          <div class="pythonCode">
            <pre class="line-numbers" data-line="1"><code class="language-python" >
              def lightUp(n=20, color=(0,0,10)):
                  for i in range(n):
                    pixels[i] = color
                    time.sleep(0.1)
            </code></pre>
          </div>

          <p>
            Now we can call the function without any argumements and it will still work.
          </p>

          <div class="LedAnimation">
            <input type="button" onclick="ex_defdemo()"  value="Play">
            <input type="button" onclick="resetLEDs()"  value="Reset">
            <script type="text/javascript">
              //create blank led strip
              var leds = getLEDs();
              var ct = 0;

              function ex_defdemo(){
                animateLEDs( function(leds){
                  t = lightSequence(leds, {  color:"deepskyblue"});
                })
              }

            </script>
          </div>

          <div class="pythonCode">
            <pre class="line-numbers" data-line="7,13"><code class="language-python" >
              import board
              import neopixel
              import time

              pixels = neopixel.NeoPixel(board.GP0, 20)

              def lightUp(n=20, color=(0,0,10)):
                for i in range(n):
                  pixels[i] = color
                  time.sleep(0.1)

              # function call
              lightUp()
            </code></pre>
          </div>

          <p>
            We can pass either parameter if we want, but it can get tricky if we don't name them. The rule is that you still need to pass the parameters in the right positional order. In this case, that means if you called the function with <code>lightUp(5)</code>, that would work, but trying to set only the color, <code>lightUp((0,10,0))</code> would fail (you should try them yourself to see the error messages).
          </p>
          <p>
            To avoid this issue we can just name the parameters as we pass them. So to make all 20 leds green we can use:
          </p>



          <div class="pythonCode">
            <pre data-line='6'><code class="language-python" >
              def lightUp(n=20, color=(0,0,10)):
                for i in range(n):
                  pixels[i] = color
                  time.sleep(0.1)

              lightUp(color=(0,10,0))
            </code></pre>
          </div>

          <div class="LedAnimation">
            <input type="button" onclick="ex_defdemo()"  value="Play">
            <input type="button" onclick="resetLEDs()"  value="Reset">
            <script type="text/javascript">
              //create blank led strip
              var leds = getLEDs();
              var ct = 0;

              function ex_defdemo(){
                animateLEDs( function(leds){
                  t = lightSequence(leds, {  color:"lightGreen"});
                })
              }

            </script>
          </div>



        </div>
        <!-- END LEFT COLUMN -->

        <!-- RIGHT COLUMN -->
        <div class="uSection">




          <!-- BEGIN ASSIGNMENT -->
          <div class='assignment'>
            <div id="functions-assignment-1" class="instruction">

              <h4> Assignment 7: Using Default Parameters </h4>

                Use the <code>lightUp</code> function, while taking maximum advantage of the default parameters to:

                <ol>
                  <li>
                    Light up all the lights (blue) in sequence,
                  </li>
                  <li>
                    Light up the first 10 lights (red) in sequence
                  </li>
                  <li>
                    Light up all the lights (green) in sequence
                  </li>
                  <li>
                    Light up all the lights (blue) in sequence
                  </li>
                  <li>
                    Light just the first 10 lights (yellow) in sequence
                  </li>
                </ol>
            </div>

            <div class="LedAnimation">
              <input type="button" onclick="ex_defPar1()"  value="Play">
              <input type="button" onclick="resetLEDs()"  value="Reset">
              <script type="text/javascript">
                //create blank led strip
                var leds = getLEDs();
                var ct = 0;

                function ex_defPar1(){
                  animateLEDs( function(leds){
                    t = lightSequence(leds, {  color:"deepskyblue"});
                    t = lightSequence(leds, {n: 10, startTime:t, color:"red"});
                    t = lightSequence(leds, {startTime:t, color:"lightGreen"});
                    t = lightSequence(leds, {startTime:t, color:"deepskyblue"});
                    t = lightSequence(leds, {n: 10, startTime:t, color:"yellow"});
                  })
                }

              </script>
            </div>

            <div class="toggle-next">Code ▼</div>
            <div class="results" hidden>

              <div class="pythonCode">
                <pre class="line-numbers" data-line="7,13"><code class="language-python" >
                  import board
                  import neopixel
                  import time

                  pixels = neopixel.NeoPixel(board.GP0, 20)

                  def lightUp(n=20, color=(0,0,10)):
                    for i in range(n):
                      pixels[i] = color
                      time.sleep(0.1)

                  # function call
                  lightUp()
                  lightUp(n=10, color=(10,0,0))
                  lightUp(color=(0,10,0))
                  lightUp()
                  lightUp(10, (5,5,0))

                </code></pre>
              </div>
            </div>



          </div>
          <!-- END ASSIGNMENT -->


          <!-- BEGIN ASSIGNMENT -->
          <div class='assignment'>
            <div id="functions-assignment-1" class="instruction">

              <h4> Assignment 8: Last Lights </h4>

                Write a function <code>lastLights</code> that:

                <ol>
                  <li>
                    lights up the last <b>n</b> lights in sequence, given the number of lights (n) and their color.
                  </li>
                  <li>
                    By default, it should light up all the leds.
                  </li>
                  <li>
                    Default color: green
                  </li>
                </ol>

                For example, if you passed <code>lastLights(n=7)</code> it should do this:
            </div>

            <div class="LedAnimation">
              <input type="button" onclick="ex_ll()"  value="Play">
              <input type="button" onclick="resetLEDs()"  value="Reset">
              <script type="text/javascript">
                //create blank led strip
                var leds = getLEDs();
                var ct = 0;

                function ex_ll(){
                  animateLEDs( function(leds){
                    t = lightSequence(leds, {startLight:20-7,  color:"lightGreen"});
                  })
                }

              </script>
            </div>

            <div class="toggle-next">Code ▼</div>
            <div class="results" hidden>

              <div class="pythonCode">
                <pre class="line-numbers" data-line="7,13"><code class="language-python" >
                  We believe in you.

                </code></pre>
              </div>
            </div>

            <div class="results" hidden>

              <div class="pythonCode">
                <pre class="line-numbers" data-line="7,13"><code class="language-python" >
                  import board
                  import neopixel
                  import time

                  pixels = neopixel.NeoPixel(board.GP0, 20)

                  def lastLights(n=20, color=(0,10,0)):
                    startLed = 20-n
                    for i in range(startLed, 20):
                      print(i)
                      pixels[i] = color
                      time.sleep(0.1)

                  # function call
                  lastLights(7)

                </code></pre>
              </div>
            </div>



          </div>
          <!-- END ASSIGNMENT -->





          <!-- BEGIN ASSIGNMENT -->
          <div class='assignment'>
            <div id="functions-assignment-1" class="instruction">

              <h4> Assignment 9: Step Lights </h4>

                Write a function <code>stepLights</code> that:

                <ol>
                  <li>
                    Lights up all the leds that are multiples of the given <b>step</b>
                  </li>
                  <li>
                    The default step = 1
                  </li>
                  <li>
                    Default color: green
                  </li>
                  <li>
                    Default time between steps = 0.1 seconds
                  </li>
                </ol>

                For example, if you passed <code>stepLights(step=2, dt=1)</code> it should do this:
            </div>

            <div class="LedAnimation">
              <input type="button" onclick="ex_step()"  value="Play">
              <input type="button" onclick="resetLEDs()"  value="Reset">
              <script type="text/javascript">
                //create blank led strip
                var leds = getLEDs();
                var ct = 0;

                function ex_step(){
                  animateLEDs( function(leds){
                    t = lightSequence(leds, {step:2,  dt:0.5, color:"lightGreen"});
                  })
                }

              </script>
            </div>

            <div class="toggle-next">Code ▼</div>
            <div class="results" hidden>

              <div class="pythonCode">
                <pre class="line-numbers" data-line="7,13"><code class="language-python" >
                  We believe in you.

                </code></pre>
              </div>
            </div>

            <div class="results" hidden>

              <div class="pythonCode">
                <pre class="line-numbers" data-line="7,13"><code class="language-python" >
                  import board
                  import neopixel
                  import time

                  pixels = neopixel.NeoPixel(board.GP0, 20)

                  def stepLights(step=1, color=(0,10,0), dt=0.1):
                    for i in range(0, 20, step):
                      pixels[i] = color
                      time.sleep(dt)

                  # function call
                  stepLights(step=2, dt=1)
                </code></pre>
              </div>
            </div>



          </div>
          <!-- END ASSIGNMENT -->






        </div>
        <!-- END RIGHT COLUMN -->

      <!-- END ROW -->






      <!-- NEW ROW -->
        <!-- LEFT COLUMN -->
        <div class="uSection">

          <h2 id="function-return">Returning Values from Functions</h2>

          <p>
            To make interesting color patterns, it can be useful to use <a href="https://en.wikipedia.org/wiki/Complementary_colors">complementary colors</a>. These are matched colors that go well together.
          </p>
          <p>
            A simple way to find a complementary color to a given color is to figure out what color would need to be added to give white.
          </p>
          <p>
            For example, the RGB color code for blue is (0,0,255) and white is (255,255,255), so if we subtract blue from white we get:
          </p>


          <div class="pythonCode">
            <pre><code class="language-python" >
              (255, 255, 255) - (0, 0, 255) = (255, 255, 0)
            </code></pre>
          </div>

          <p>
            (255, 255, 0) is yellow, which is the complementary color for blue.
          </p>

          <p>
            Example: Write a function called <code>complementaryColor</code>that returns the complementary color for any given color.
          </p>

          <div class="pythonCode">
            <pre class="line-numbers" data-line="5"><code class="language-python" >
              def complementaryColor(color):
                r = 255 - color[0]
                g = 255 - color[1]
                b = 255 - color[2]
                return (r, g, b)

              # MAIN PROGRAM: find the complementary color of blue
              blue = (0, 0, 255)
              compColor = complementaryColor(blue)
              print(compColor)
            </code></pre>
          </div>

          <p>
            In the function:
            <ul>
              <li>
                Lines 2-4 calculate the complementary colors.
              </li>
              <li>
                Line 5 returns the values calculated by the function to the main program.
              </li>
            </ul>
          </p>

          <p>
            To see this in practice. Here is a program that lights up the first light with a color (<code>color1</code>) and the last light with its complementary color (<code>compColor</code>), using the <code>complementaryColor</code> function:
          </p>

          <script type="text/javascript">
            nPix = 20;  leds = getLEDs();
            leds[0].style.backgroundColor = "deepskyblue";
            leds[19].style.backgroundColor = "yellow";
          </script>

          <div class="pythonCode">
            <pre class="line-numbers" data-line="7,13"><code class="language-python" >
              import board
              import neopixel
              import time

              pixels = neopixel.NeoPixel(board.GP0, 20)

              def complementaryColor(color):
                  r = 255 - color[0]
                  g = 255 - color[1]
                  b = 255 - color[2]
                  return (r, g, b)

              # MAIN PROGRAM
              color1 = (0, 0, 255)
              compColor = complementaryColor( color1 )
              print(f'complementary color of {color1} is {compColor}')

              pixels[0] = color1
              pixels[-1] = compColor
            </code></pre>
          </div>




        </div>
        <!-- END LEFT COLUMN -->

        <!-- RIGHT COLUMN -->
        <div class="uSection">




          <!-- BEGIN ASSIGNMENT -->
          <div class='assignment'>
            <div id="compCol-assignment" class="instruction">

              <h4> Assignment 10: Scaling Complementary Colors </h4>

                <p>
                  Finding the complementary color by subtracting from 255 makes for some very bright lights. We can instead use a different number, call it a <em>scaling value</em> to subtract the rgb values from instead.
                </p>
                <p>
                  Write a function that takes <b>two input parameters (a color and a scaling value)</b> and <b>returns the scaled complementary color</b>.
                </p>
                Inputs:
                <ol>
                  <li>
                    A color (in the form <b>(r, g, b)</b>)
                  </li>
                  <li>
                    A scaling value that is used instead of 255 to calculate the complementary color.
                  </li>
                </ol>

                <p>
                  For example. If the input color is <b> color = (10, 5, 7)</b> and the <b> scaling value = 10</b>, then the complementary color returned should be <b>(0, 5, 3)</b>.
                </p>
                <p>
                  Use the function to make the first 10 lights the starting color, and the second 10 the complementary color.
            </div>

            <script type="text/javascript">
              nPix = 20;  leds = getLEDs();
              [c, compC] = complementaryColors([7,2,10], 10)
              for (let i=0; i<10; i+=1){
                leds[i].style.backgroundColor = c;
                leds[i+10].style.backgroundColor = compC;
              }
            </script>

            <div class="toggle-next">Code ▼</div>
            <div class="results" hidden>

              <div class="pythonCode">
                <pre class="line-numbers" data-line="7,13"><code class="language-python" >
                  import board
                  import neopixel
                  import time

                  pixels = neopixel.NeoPixel(board.GP0, 20)

                  def complementaryColor(color, scaleFactor):
                      r = scaleFactor - color[0]
                      g = scaleFactor - color[1]
                      b = scaleFactor - color[2]
                      return (r, g, b)

                  # MAIN PROGRAM
                  color1 = (7,2,10)
                  compColor = complementaryColor( color1 , 10)
                  print(f'complementary color of {color1} is {compColor}')

                  for i in range(10):
                      pixels[i] = color1
                      pixels[i+10] = compColor

                </code></pre>
              </div>
            </div>



          </div>
          <!-- END ASSIGNMENT -->





        </div>
        <!-- END RIGHT COLUMN -->

      <!-- END ROW -->






      <!-- NEW ROW -->
        <!-- LEFT COLUMN -->
        <div class="uSection">

          <h2 id="function-return">Importing Functions from Other Files</h2>

          <p>
            We've made an number of functions that will be useful in designing light patterns. However, keeping them all in the same file adds some clutter we can aleviate by moving our functions into a separate file and importing them when we need them.
          </p>
          <p>
            This is particularly useful when you're sharing a Pi Pico, because you can save your functions in a separate file that does not get overwritten by other students.
          </p>
          <p>
            First, let's create a file with the functions, <code>lightsOff</code>, <code>lightUp</code>, <code>lastLights</code>, and <code>complementaryColor</code> (you can put other functions in if you like). I'm going to call my file <b><em>docFuncs.py</em> </b>, but you should give yours a unique name.
          </p>


          <div class="pythonCode">
            <em>docFuncs.py</em>
            <pre class="line-numbers" data-line="7,13"><code class="language-python" >
              import board
              import neopixel
              import time

              pixels = neopixel.NeoPixel(board.GP0, 20)

              def lightsOff():
                  for i in range(20):
                      pixels[i] = (0,0,0)

              def lightUp(n=20, color=(0,0,10)):
                  for i in range(n):
                      pixels[i] = color
                      time.sleep(0.1)

              def lastLights(n=20, color=(0,10,0)):
                  startLed = 20-n
                  for i in range(startLed, 20):
                    print(i)
                    pixels[i] = color
                    time.sleep(0.1)

              def complementaryColor(color):
                  r = 255 - color[0]
                  g = 255 - color[1]
                  b = 255 - color[2]
                  return (r, g, b)

            </code></pre>
          </div>

          <p>
            Now, we can write a much shorter program that imports the functions.
          </p>

          <div class="pythonCode">
            <em>code.py</em>
            <pre class="line-numbers" data-line="5"><code class="language-python" >
              from docFuncs import *

              lightUp()
              lightsOff()
              lastLights(8)

            </code></pre>
          </div>

          <div class="LedAnimation">
            <input type="button" onclick="ex_ll()"  value="Play">
            <input type="button" onclick="resetLEDs()"  value="Reset">
            <script type="text/javascript">
              //create blank led strip
              var leds = getLEDs();
              var ct = 0;

              function ex_ll(){
                animateLEDs( function(leds){
                  t = lightSequence(leds, {  color:"deepskyblue"});
                  t = clearLeds(leds, {startTime:t})
                  t = lightSequence(leds, {startTime:t, startLight:20-7,  color:"lightGreen"});
                })
              }

            </script>
          </div>





        </div>
        <!-- END LEFT COLUMN -->

        <!-- RIGHT COLUMN -->
        <div class="uSection">




          <!-- BEGIN ASSIGNMENT -->
          <div class='assignment'>
            <div id="importing functions" class="instruction">

              <h4> Assignment 11: Importing Functions </h4>

                <p>
                  Add as many functions as you'd like to your functions file and make an interesting lighting pattern using them.
                </p>

            </div>



          </div>
          <!-- END ASSIGNMENT -->





        </div>
        <!-- END RIGHT COLUMN -->

      <!-- END ROW -->










    </div>

    <!-- FOOTER -->
    <div class="nav">
      <hr>
      <a href="./lighting-lights.html">Prev: Lighting Lights</a>
      <a href="../leds/index.html">LEDs Index</a>
      <a href="./if.html">Next: If statements</a>
    </div>
    <!-- END FOOTER -->


  </body>

  <script type="text/javascript" src="../prism.js"></script>
  <script type="text/javascript" src="../exercises.js"></script>

</html>
