<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">

    <title>LED: Functions</title>

    <link rel="icon" type="image/png" href="ledFav-48.png" sizes="48x48">

    <link href="../prism.css" rel="stylesheet" />
    <link href="../programmingLessons.css" rel="stylesheet" />

    <script type="text/javascript" src="../uSvg-0.4.js"></script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS_SVG">
    </script>
    <script type="text/javascript" src="../jquery-3.6.0.min.js"></script>
    <script type="text/javascript" src="../exercises.js"></script>
    <script type="text/javascript" src="./ledFuncs.js"></script>

    <script type="text/javascript">
      nPix = 20;
    </script>

    <style media="screen">

    </style>

  </head>
  <body>
    <!-- HEADERS -->
    <div class="nav">
      <a href="../leds/index.html">LEDs Index</a>
      <a href="../quickRef/">Python Quick Ref</a>
      <hr>
    </div>
    <!-- END HEADERS -->

    <div class="intro">
      <h1>Functions </h1>

      <div style="">
        <div class="test" style='padding:2em;'>
          Functions are bits of code that do specific things so you don't have to recreate the wheel every time you have to do something. The idea is that you can hide the inner working of the function, which makes it easier to think about other things you're trying to do.

          <p>Functions should make life easier.</p>
        </div>

        <div class='alertNote'>
          <b>Note on Pico vs. Zero:</b>
          <ol>
            <li>For the Pico use <code>board.GP0</code> instead of <code>board.D18</code> because they are set up to use different input pins by default. </li>
          </ol>

        </div>

        <p>
          References:
          <ol>
            <li><a href="../quickRef/index.html#functions">QuickRef: Functions</a></li>
          </ol>

        </p>

      </div>
    </div>




    <div class="mainTable" >


      <!-- NEW ROW -->
        <!-- LEFT COLUMN -->
        <div class="uSection">
          <h2> Why Functions </h2>

          <p>
            To turn off all the lights we just need a simple loop:
          </p>

          <div class="pythonCode">
            <pre class="line-numbers"><code class="language-python" >
            for i in range(20):
              pixels[i] = (0,0,0)
            </code></pre>
          </div>

          <p>
            However, as we write more interesting lighting sequences, we'll find that we need to do this quite often, so we can create a shortcut that we'll call a function.
          </p>




        </div>
        <!-- END LEFT COLUMN -->

        <!-- RIGHT COLUMN -->
        <div class="uSection">


          <!-- BEGIN ASSIGNMENT -->
          <div class='assignment'>
            <div id="functions-assignment-1" class="instruction">

              <h4> Assignment 1 </h4>

              Write a program to do the following (you don't have to use functions to do it),
              <ol>
                <li>
                  Light up all of the lights (green) (in sequence with a 0.1 second delay),
                </li>
                <li>
                  Turn off the lights
                </li>
                <li>
                  Wait for 1 second,
                </li>
                <li>
                  Light up all the lights again (red)
                </li>
                <li>
                  Turn off the lights
                </li>
              </ol>


              <div class="LedAnimation">
                <input type="button" onclick="ex_fpat1()"  value="Play">
                <input type="button" onclick="resetLEDs()"  value="Reset">
                <script type="text/javascript">
                  //create blank led strip
                  var leds = getLEDs();
                  var ct = 0;

                  function ex_fpat1(){
                    animateLEDs( function(leds){
                      t = lightSequence(leds, { color:"lightgreen"});
                      t = clearLeds(leds, {startTime:t, pauseAfter:1});
                      t = lightSequence(leds, {startTime:t});
                      t = clearLeds(leds, {startTime:t});

                    })
                  }

                </script>
              </div>

            </div>

            <div class="toggle-next">Code ▼</div>
            <div class="results" hidden>

              <div class="pythonCode">
                <pre class="line-numbers"><code class="language-python" >
                import board
                import neopixel
                import time

                pixels = neopixel.NeoPixel(board.GP0, 20)

                # make lights green in sequence
                for i in range(20):
                  pixels[i] = (0,10,0)
                  time.sleep(0.1)

                # turn off lights
                for i in range(20):
                  pixels[i] = (0,0,0)

                # wait 1 second
                time.sleep(1)

                # make lights red in sequence
                for i in range(20):
                  pixels[i] = (10,0,0)
                  time.sleep(0.1)

                # turn off lights
                for i in range(20):
                  pixels[i] = (0,0,0)

                </code></pre>
              </div>
            </div>


          </div>
          <!-- END ASSIGNMENT -->




        </div>
        <!-- END RIGHT COLUMN -->

      <!-- END ROW -->





      <!-- NEW ROW -->
        <!-- LEFT COLUMN -->
        <div class="uSection">

          <h2>Writing Functions (Turn off the lights) </h2>

          <p>
            A function to turn off the lights looks like this:
          </p>

          <div class="pythonCode">
            <pre class="line-numbers"><code class="language-python" >
              def lightsOff():
                for i in range(20):
                  pixels[i] = (0,0,0)
            </code></pre>
          </div>

          <p>
            <ul>
              <li><code>def lightsOff():</code> </li>
              <ul>
                <li>Define the function and give it a name "lightsOff"</li>
              </ul>
              <li>Everything tabbed over after the function definition is in the function: it's what's done when the function is <em>called</em>.</li>
              <li>The function is usually defined at or near the top of the code (later on we'll actually put it in its own file.)</li>
              <li>The function is <b><em>called</em></b> in the program when it's needed. </li>
            </ul>
          </p>

          <p>
            Let's redo <a href="#functions-assignment-1">Assignment 1</a> but use a function to turn the lights off. The function is defined on lines 7-10, and called twice on lines 20 and 31.
          </p>

          <div class="LedAnimation">
            <input type="button" onclick="ex_fpat2()"  value="Play">
            <input type="button" onclick="resetLEDs()"  value="Reset">
            <script type="text/javascript">
              //create blank led strip
              var leds = getLEDs();
              var ct = 0;

              function ex_fpat2(){
                animateLEDs( function(leds){
                  t = lightSequence(leds, { color:"deepskyblue"});
                  t = clearLeds(leds, {startTime:t, pauseAfter:1});
                  t = lightSequence(leds, {startTime:t});
                  t = clearLeds(leds, {startTime:t});

                })
              }

            </script>
          </div>

          <div class="pythonCode">
            <pre class="line-numbers" data-line="7-10,19-20,30-31"><code class="language-python" >
            import board
            import neopixel
            import time

            pixels = neopixel.NeoPixel(board.GP0, 20)

            # FUNCTION: to turn off all the lights
            def lightsOff():
              for i in range(20):
                pixels[i] = (0,0,0)


            # MAIN PROGRAM STARTS HERE
            # make lights blue in sequence
            for i in range(20):
              pixels[i] = (0,0,10)
              time.sleep(0.1)

            # CALL the function to turn off lights
            lightsOff()

            # wait 1 second
            time.sleep(1)

            # make lights red in sequence
            for i in range(20):
              pixels[i] = (10,0,0)
              time.sleep(0.1)

            # CALL the function to turn off lights
            lightsOff()

            </code></pre>
          </div>

          <p>

          </p>


        </div>
        <!-- END LEFT COLUMN -->

        <!-- RIGHT COLUMN -->
        <div class="uSection">

          <!-- BEGIN ASSIGNMENT -->
          <div class='assignment'>
            <div id="functions-assignment-1" class="instruction">

              <h4> Assignment 2 </h4>

                Write a function called <code>allBlue</code> that turns all of the lights blue (in sequence with a 0.1 second timestep), and use it in a program that:

                <ol>
                  <li>
                    Light up all of the lights (blue) (in sequence with a 0.1 second delay),
                  </li>
                  <li>
                    Turn off the lights
                  </li>
                  <li>
                    Wait for 1 second,
                  </li>
                  <li>
                    Light up all the lights again (red)
                  </li>
                  <li>
                    Turn off the lights
                  </li>
                  <li>
                    Wait for 1 second,
                  </li>
                  <li>
                    Light up all the lights again (blue)
                  </li>
                </ol>

              <div class="LedAnimation">
                <input type="button" onclick="ex_fpat3()"  value="Play">
                <input type="button" onclick="resetLEDs()"  value="Reset">
                <script type="text/javascript">
                  //create blank led strip
                  var leds = getLEDs();
                  var ct = 0;

                  function ex_fpat3(){
                    animateLEDs( function(leds){
                      t = lightSequence(leds, { color:"deepskyblue"});
                      t = clearLeds(leds, {startTime:t, pauseAfter:1});
                      t = lightSequence(leds, {startTime:t});
                      t = clearLeds(leds, {startTime:t});
                      t = lightSequence(leds, {startTime:t, color:"deepskyblue"});

                    })
                  }

                </script>
              </div>

            </div>

            <div class="toggle-next">Code ▼</div>
            <div class="results" hidden>

              <div class="pythonCode">
                <pre class="line-numbers"><code class="language-python" >
                  import board
                  import neopixel
                  import time

                  pixels = neopixel.NeoPixel(board.GP0, 20)

                  # FUNCTION: to turn off all the lights
                  def lightsOff():
                    for i in range(20):
                      pixels[i] = (0,0,0)

                  # FUNCTION: to make all leds blue
                  def allBlue():
                    for i in range(20):
                      pixels[i] = (0,0,10)
                      time.sleep(0.1)

                  # MAIN PROGRAM STARTS HERE

                  allBlue()       # make lights blue
                  lightsOff()     # turn off lights
                  time.sleep(1)   # wait one second

                  # make lights red in sequence
                  for i in range(20):
                    pixels[i] = (10,0,0)
                    time.sleep(0.1)

                  # CALL the function to turn off lights
                  lightsOff()     # turn lights off
                  time.sleep(1)   # wait one second
                  allBlue()       # make lights blue

                </code></pre>
              </div>
            </div>


          </div>
          <!-- END ASSIGNMENT -->

        </div>
        <!-- END RIGHT COLUMN -->

      <!-- END ROW -->







      <!-- NEW ROW -->
        <!-- LEFT COLUMN -->
        <div class="uSection">

          <h2 id="passing-parameters">Passing Parameters </h2>

          <p>
            We could make separate functions that light up all the different colors in sequence (you may have already done so for the red lights in Assignment 2). However, this would be easier to handle if we could tell the function which color to use.
          </p>

          <p>
            So we'll <b>pass a parameter</b> called <code>color</code> to a function, which will use that color.
          </p>

          <p>
            Let's call the function <code>lightSequence</code>.
          </p>

          <div class="pythonCode">
            <pre class="line-numbers"><code class="language-python" >
              def lightSequence(color):
                for i in range(20):
                  pixels[i] = color
                  time.sleep(0.1)

              lightSequence( (10,0,0) )       # call to make lights red
              lightSequence( (0,0,10) )       # call to make lights blue
            </code></pre>
          </div>

          <p>
            In the call to the function with <code>lightSequence( (10,0,0) )</code>, we pass the color (e.g. red <code>(10,0,0)</code> in the first call).
          </p>

          <p>
            The function definition, <code>def lightSequence(color):</code> expects to be passed one <b><em>parameter</em> </b> called "color", that the function uses to set the led colors on line 3.
          </p>







        </div>
        <!-- END LEFT COLUMN -->

        <!-- RIGHT COLUMN -->
        <div class="uSection">


          <!-- BEGIN ASSIGNMENT -->
          <div class='assignment'>
            <div id="functions-assignment-1" class="instruction">

              <h4> Assignment 3 </h4>

                Use the <code>lightSequence</code> function to:
                <ol>
                  <li>
                    Light up all of the lights (red) (in sequence with a 0.1 second delay),
                  </li>
                  <li>
                    Turn off the lights then wait for 1 second.
                  </li>
                  <li>
                    Light up all the lights again (green)
                  </li>
                  <li>
                    Turn off the lights then wait for 1 second.
                  </li>
                  <li>
                    Light up all the lights again (blue)
                  </li>
                  <li>
                    Turn off the lights then wait for 1 second.
                  </li>
                  <li>
                    Light up all the lights again (yellow)
                  </li>
                </ol>

                <div class="LedAnimation">
                  <input type="button" onclick="ex_fpat4()"  value="Play">
                  <input type="button" onclick="resetLEDs()"  value="Reset">
                  <script type="text/javascript">
                    //create blank led strip
                    var leds = getLEDs();
                    var ct = 0;

                    function ex_fpat4(){
                      animateLEDs( function(leds){
                        t = lightSequence(leds, { color:"red"});
                        t = clearLeds(leds, {startTime:t, pauseAfter:1});
                        t = lightSequence(leds, {startTime:t, color:"lightgreen"});
                        t = clearLeds(leds, {startTime:t, pauseAfter:1});
                        t = lightSequence(leds, {startTime:t, color:"deepskyblue"});
                        t = clearLeds(leds, {startTime:t, pauseAfter:1});
                        t = lightSequence(leds, {startTime:t, color:"yellow"});

                      })
                    }

                  </script>
                </div>

            </div>

            <div class="toggle-next">Code ▼</div>
            <div class="results" hidden>

              <div class="pythonCode">
                <pre class="line-numbers"><code class="language-python" >
                  import board
                  import neopixel
                  import time

                  pixels = neopixel.NeoPixel(board.GP0, 20)

                  # FUNCTION: to turn off all the lights
                  def lightsOff():
                      for i in range(20):
                        pixels[i] = (0,0,0)

                  # FUNCTION: to light up all the lights with a given color
                  def lightSequence(color):
                      for i in range(20):
                        pixels[i] = color
                        time.sleep(0.1)

                  # MAIN PROGRAM STARTS HERE

                  lightSequence( (10,0,0) )       # make lights red
                  lightsOff()
                  time.sleep(1)

                  lightSequence( (0,10,0) )       # make lights green
                  lightsOff()
                  time.sleep(1)

                  lightSequence( (0,0,10) )       # make lights blue
                  lightsOff()
                  time.sleep(1)

                  lightSequence( (10,10,0) )       # make lights yellow

                </code></pre>
              </div>
            </div>


          </div>
          <!-- END ASSIGNMENT -->



          <!-- BEGIN ASSIGNMENT -->
          <div class='assignment'>
            <div id="functions-assignment-1" class="instruction">

              <h4> Assignment 4 </h4>

                Write a function that lights the LEDs backwards and use it to:
                <ol>
                  <li>
                    Light up all of the lights (red) (in sequence with a 0.1 second delay),
                  </li>
                  <li>
                    Turn off the lights (no wait)
                  </li>
                  <li>
                    Light up all the lights backwards (green)
                  </li>
                  <li>
                    Light up all the lights again (blue)
                  </li>
                  <li>
                    Light up all the lights backwards (red)
                  </li>
                </ol>

                <div class="LedAnimation">
                  <input type="button" onclick="ex_fpat5()"  value="Play">
                  <input type="button" onclick="resetLEDs()"  value="Reset">
                  <script type="text/javascript">
                    //create blank led strip
                    var leds = getLEDs();
                    var ct = 0;

                    function ex_fpat5(){
                      animateLEDs( function(leds){
                        t = lightSequence(leds, { color:"red"});
                        t = clearLeds(leds, {startTime:t, pauseAfter:0});
                        t = lightBackwards(leds, {startTime:t, color:"lightGreen"});
                        t = lightSequence(leds, {startTime:t, color:"deepskyblue"});
                        t = lightBackwards(leds, {startTime:t, color:"red"});
                      })
                    }

                  </script>
                </div>


            </div>

            <div class="toggle-next">Code ▼</div>
            <div class="results" hidden>

              <div class="pythonCode">
                <pre class="line-numbers"><code class="language-python" >
                  We believe in you.

                </code></pre>
              </div>
            </div>

            <div class="pythonCode" hidden>
              <pre class="line-numbers"><code class="language-python" >
                import board
                import neopixel
                import time

                pixels = neopixel.NeoPixel(board.GP0, 20)

                # FUNCTION: to turn off all the lights
                def lightsOff():
                    for i in range(20):
                      pixels[i] = (0,0,0)

                # FUNCTION: to light up all the lights with a given color
                def lightSequence(color):
                    for i in range(20):
                      pixels[i] = color
                      time.sleep(0.1)

                def lightBackwards(color):
                    for i in range(19, -1, -1):
                      pixels[i] = color
                      time.sleep(0.1)

                # MAIN PROGRAM STARTS HERE

                lightSequence( (10,0,0) )       # make lights red
                lightsOff()

                lightBackwards( (0,10,0) )       # make lights green
                lightSequence( (0,0,10) )       # make lights red
                lightBackwards( (10,0,0) )
              </code></pre>
            </div>


          </div>
          <!-- END ASSIGNMENT -->


        </div>
        <!-- END RIGHT COLUMN -->

      <!-- END ROW -->





      <!-- NEW ROW -->
        <!-- LEFT COLUMN -->
        <div class="uSection">

          <h2 id="passing-parameters">Passing Multiple Parameters </h2>

          <p>
            You can pass multiple variables to a function, they just need to be <b>comma separated</b>. For example, a function to make three lights red, blue, and green respectively would look like:
          </p>

          <script type="text/javascript">
            var leds = getLEDs();
            leds[1].style.backgroundColor = "red";
            leds[4].style.backgroundColor = "lightgreen";
            leds[10].style.backgroundColor = "deepskyblue";
          </script>

          <div class="pythonCode">
            <pre class="line-numbers"><code class="language-python" >
              def lightRGB(a, b, c):
                pixels[a] = (10,0,0)
                pixels[b] = (0,10,0)
                pixels[c] = (0,0,10)

              # function call
              lightRGB(1, 4, 10)
            </code></pre>
          </div>

          <div class="toggle-next">Full Program ▼</div>
          <div class="results" hidden>

            <div class="pythonCode">
              <pre class="line-numbers"><code class="language-python" >
                import board
                import neopixel
                import time

                pixels = neopixel.NeoPixel(board.GP0, 20)

                def lightRGB(a, b, c):
                  pixels[a] = (10,0,0)
                  pixels[b] = (0,10,0)
                  pixels[c] = (0,0,10)

                # function call
                lightRGB(1, 4, 10)

              </code></pre>
            </div>
          </div>


        </div>
        <!-- END LEFT COLUMN -->

        <!-- RIGHT COLUMN -->
        <div class="uSection">




          <!-- BEGIN ASSIGNMENT -->
          <div class='assignment'>
            <div id="functions-assignment-1" class="instruction">

              <h4> Assignment 5 </h4>

                Write a function called <code>lightUp</code> that you can pass a number of lights to and it will light up that many lights in sequence (0.1 second delay between lights). For example, if you passed it the number 7, 7 LEDs would light up.
                <ol>
                  <li>
                    Light up the first 5 lights (red) (in sequence with a 0.1 second delay),
                  </li>
                  <li>
                    Light up the first 10 lights (green) in sequence
                  </li>
                  <li>
                    Light up all the lights (blue) in sequence
                  </li>
                  <li>
                    Light just the first 10 lights (red) in sequence
                  </li>
                  <li>
                    Light just the first 5 lights (yellow) in sequence
                  </li>
                </ol>

                <div class="LedAnimation">
                  <input type="button" onclick="ex_fpat6()"  value="Play">
                  <input type="button" onclick="resetLEDs()"  value="Reset">
                  <script type="text/javascript">
                    //create blank led strip
                    var leds = getLEDs();
                    var ct = 0;

                    function ex_fpat6(){
                      animateLEDs( function(leds){
                        t = lightSequence(leds, { n: 5, color:"red"});
                        t = lightSequence(leds, {n: 10, startTime:t, color:"lightGreen"});
                        t = lightSequence(leds, {startTime:t, color:"deepskyblue"});
                        t = lightSequence(leds, {n: 10, startTime:t, color:"red"});
                        t = lightSequence(leds, {n: 5, startTime:t, color:"yellow"});
                      })
                    }

                  </script>
                </div>


            </div>

            <div class="toggle-next">Code ▼</div>
            <div class="results" hidden>

              <div class="pythonCode">
                <pre class="line-numbers"><code class="language-python" >
                  import board
                  import neopixel
                  import time

                  pixels = neopixel.NeoPixel(board.GP0, 20)

                  # FUNCTION: to turn off all the lights
                  def lightsOff():
                      for i in range(20):
                        pixels[i] = (0,0,0)

                  # FUNCTION: to light up all the lights with a given color
                  def lightUp(n, color):
                      for i in range(n):
                        pixels[i] = color
                        time.sleep(0.1)

                  # MAIN PROGRAM STARTS HERE

                  lightUp(5, (10,0,0))
                  lightUp(10, (0,10,0))
                  lightUp(20, (0,0,10))
                  lightUp(10, (10,0,0))
                  lightUp(5, (5,5,0))
                </code></pre>
              </div>
            </div>


          </div>
          <!-- END ASSIGNMENT -->


        </div>
        <!-- END RIGHT COLUMN -->

      <!-- END ROW -->


To Do:
<ul>
  <li>Default Parameters</li>
  <li>Returning values from Functions</li>
  <li>importing from other files</li>
</ul>




    </div>

    <!-- FOOTER -->
    <div class="nav">
      <hr>
      <a href="./lighting-lights.html">Prev: Lighting Lights</a>
      <a href="../leds/index.html">LEDs Index</a>
      <a href="./if.html">Next: If statements</a>
    </div>
    <!-- END FOOTER -->


  </body>

  <script type="text/javascript" src="../prism.js"></script>
  <script type="text/javascript" src="../exercises.js"></script>

</html>
