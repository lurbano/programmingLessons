<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">

    <title>LEDs: Command Line</title>

    <link rel="icon" type="image/png" href="ledFav-48.png" sizes="48x48">
    <link href="../prism.css" rel="stylesheet" />
    <link href="../programmingLessons.css" rel="stylesheet" />

    <script type="text/javascript" src="../uSvg-0.4.js"></script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS_SVG">
    </script>
      <script type="text/javascript" src="../jquery-3.6.0.min.js"></script>
      <script type="text/javascript" src="../exercises.js"></script>
    <style media="screen">
      body {
        font-family: "Lucida Console", "Courier New", monospace;
      }
      .section {
        border: 1px solid black;
        max-width: 40em;
        padding: 1em;
        margin: 0.5em;
      }
      .topic {
        font-family: 'Times New Roman', serif;
        font-weight: bold;
        margin-bottom: 0.5em;
      }
      .link {
        margin-left: 2em;
      }
      .description {
        margin-top: 0.5em;
        margin-left: 3em;
      }

    </style>
    <link href="../progLess.css" rel="stylesheet" />

  </head>
  <body>


    <div class="box">

      <div id="sidebar">
        <b><a href="#mainPage">LEDs Index</a></b>
            <ol>
              <li> <a href="./quickRef/">Python Quick Reference</a>
              </li>


              <li> <a href="#mainPage">Topics</a>
                <!-- <span class="dropdownSide">â‡¨</span> -->
                <ol type="a" >
                  <li> <a href="./setup.html">Setting up</a>
                    <ul>
                      <li  style="margin-left: -2em;"><a href="https://github.com/lurbano/rpi-led-strip">GitHub Repo.</a> </li>
                    </ul>
                  </li>
                  <li> <a href="./connecting.html">Connecting & Terminal</a>
                  </li>
                </ol>
              </li>
              <li> Coding
                <ol type="a">
                  <li> <a href="./lighting-lights.html">Lighting Lights</a>
                  </li>
                  <li> <a href="./for-loops.html">Loops</a>
                  </li>
                  <li> <a href="./logic.html">Logic: If/Then</a>
                  </li>
                  <li> <a href="./logic/">Logical Statements</a>
                  </li>
                  <li> <a href="./functions/">Functions</a>
                  </li>
                  <li> <a href="./projects.html/">Projects</a>
                  </li>

                </ol>
              </li>

            </ol>
      </div>

      <div id="mainPage">

        <!-- HEADERS -->
        <div class="nav">
          <a href="../leds/index.html">LEDs Index</a>
          <a href="../quickRef/">Python Quick Ref</a>
          <hr>
        </div>
        <!-- END HEADERS -->

        <h1>Connecting to the Pi and Using the Command Line</h1>


        <div class="intro">
          <div class="comment">
            <h2>Logging in to the Pi</h2>

            <p>
            Log into the Pi using <em>putty</em> (Windows) or <em>ssh</em> (Linus or OSX) depending on your operating system.
            </p>

            <p>
              We assume that the Pi still has it's default name "<b><em>raspberrypi</em></b>", (you may have changed it if you followed that part of the rpi-led-strip instructions) and default username ("<b><em>pi</em>"</b>) and password ("<b><em>raspberry</em></b>"):
            </p>

            <p>
              To log in use:
            </p>

            <div class="command">
            <pre class="command-line" data-user="pi" data-host="ledpi"><code class="language-bash" >ssh pi@raspberrypi.local
            </code></pre>
            </div>

            <p>
              or, if the ip address of the Pi, is <b><em>192.168.4.76</em></b> then;
            </p>

            <div class="command">
            <pre class="command-line" data-user="pi" data-host="ledpi"><code class="language-bash" >ssh pi@192.168.4.76
            </code></pre>
            </div>

          </div>

          <div class="comment">

            <h2>Navigating the Terminal window</h2>

            <b>Terminal commands</b>:
            <p>
            <b>ls</b>: list files in the directory.
            <div class="command">
            <pre class="command-line" data-user="pi" data-host="ledpi" data-output="2-3"><code class="language-bash" >ls
    Bookshelf  Documents   Pictures   rpi-led-strip  Videos
    Desktop    Downloads   Music      Public         Templates
            </code></pre>
            </div>
            </p>
          </div>

          <div class="comment">
            <b>cd</b>: change directory.
            <div class="command">
              <pre class="command-line" data-user="pi" data-host="ledpi"><code class="language-bash" >cd rpi-led-strip
              </code></pre>
              <p>
                The example programs for controlling the LED's are in the <b>pyLED</b> subdirectory of the <b>rpi-led-strip</b> directory, so we'll go into the <b>rpi-led-strip</b> directory first. The command gives no response; many terminal commands are silent if successful. However, you should see your prompt change to reflect the new directory you're in. We can check that we're in the right directry with the <b>pwd</b> command.
              </p>
            </div>
          </div>

          <div class="comment">
            <b>pwd</b>: print working directory.
            <div class="command">
              <pre class="command-line" data-user="pi" data-host="ledpi" data-output="2"><code class="language-bash" >pwd
    /home/pi/rpi-led-strip
              </code></pre>
              <p>
                Prints the full path to the directory you're currently working in, which should be <b>/home/pi/rpi-led-strip</b>.
              </p>
            </div>

          </div>


          <div class="comment">
            <div class="command">
              <i>Moving forward:</i>
              <p>
                Now we list the files and directories in the working directory and change into the <b>pyLED</b> directory with the commands:
              </p>
              <pre class="command-line" data-user="pi" data-host="ledpi" data-output="2-4,7-8"><code class="language-bash" >ls
    error.log  old-web      README.md      webServer
    flags      PI_SETUP.md  ssh            wpa_supplicant.conf
    NOTES.txt  pyLED        testTime.html
    cd pyLED
    ls
    aRainbow.py  clearSwitch.py  startup.py  test2.py
    clear.py     rainbow.py      test1.py    test3.py
              </code></pre>
            </div>
          </div>


          <div class="comment">
            <b>more</b>: showing the contents of a file.
            <div class="command">
              <pre class="command-line" data-user="pi" data-host="ledpi" data-output="2-7"><code class="language-bash" >more test1.py
    import board
    import neopixel

    pixels = neopixel.NeoPixel(board.D18, 20)

    pixels[2] = (10,0,0)
              </code></pre>
              <p>
                This shows the entire contents of the <i>test1.py</i> file. For longer files you can tap the Space Bar to move forward a page, or Enter to move forward one line.
              </p>
            </div>
          </div>


          <div class="comment">
            <b>python3</b>: calling the python interpreter to run a program.
            <div class="command">
              <pre class="command-line" data-user="pi" data-host="ledpi" data-output="2-7"><code class="language-bash" >python3 test1.py
    Can't open /dev/mem: Permission denied
    ...
              </code></pre>
              <p>
                You'll see a long error output that starts with "Permission denied". Most python programs should not have this problem, but in order to control the LED's we need superuser permissions. We use <b>sudo</b> to aquire these permissions.
              </p>
            </div>
          </div>


          <div class="comment">
            <b>sudo</b>: run a program with superuser status.
            <div class="command">
              <pre class="command-line" data-user="pi" data-host="ledpi" data-output="2"><code class="language-bash" >sudo python3 test1.py
              </code></pre>
              <p>
                You should get no response from the terminal window, but the third LED should light up and turn red.
              </p>
              <!-- led Sim -->
              <script type="text/javascript">
                var leds = getLEDs();
                leds[2].style.backgroundColor = "red";
              </script>
              <!-- end led Sim -->
            </div>
          </div>








          <div class="comment">
            <b>cp</b>: copy file
            <div class="command">
              <pre class="command-line" data-user="pi" data-host="ledpi" data-output="3-4"><code class="language-bash" >cp test1.py myTest1.py
    ls
    aRainbow.py  clearSwitch.py  rainbow.py  test1.py  test3.py
    clear.py     myTest1.py      startup.py  test2.py
              </code></pre>
              <p>
                Here we copy the <i>test1.py</i> file to a new file named <i>myTest1.py</i>, so when we try to make changes to the program (see next step), we won't run the risk of messing up a working program that we may need for reference.
              </p>
            </div>
          </div>


          <div class="comment">
            <b>nano</b>: file editor
            <div class="command">
              <pre class="command-line" data-user="pi" data-host="ledpi" data-output="2"><code class="language-bash" >nano myTest1.py
              </code></pre>
              <p>
                There are a number of file editors available, but we'll use <b>nano</b> because it's easy enough. Here we open the file for editing. <br>
              </p>
              <p>
                If you change the number <b>"2"</b> in the last line of the <i>myTest1.py</i> file to, for example, <b>"5"</b> you'll change which light lights up. We're old-school here, so you won't be able to use the mouse to navigate through the file, you'll have to use the arrow keys.
              </p>
              <ul>
                <li><b>Ctrl-S</b>: To save your changes.</li>
                <li><b>Ctrl-X</b>: To exit</li>
              </ul>
              <p>
                Since you already know the command to run the program, so you can test to see if your changes worked.
              </p>
            </div>
          </div>




        </div>


      </div>
    </div>

  </body>

  <script type="text/javascript" src="../prism.js"></script>
</html>
