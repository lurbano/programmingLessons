<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">

    <title>LEDs: Command Line</title>

    <link href="../prism.css" rel="stylesheet" />
    <link href="../programmingLessons.css" rel="stylesheet" />

    <script type="text/javascript" src="../uSvg-0.4.js"></script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS_SVG">
    </script>
      <script type="text/javascript" src="../jquery-3.6.0.min.js"></script>
      <script type="text/javascript" src="../exercises.js"></script>

    <style media="screen">

    </style>

  </head>
  <body>
    <!-- HEADERS -->
    <div class="nav">
      <a href="../index.html">‚Üê Main</a>
      <a href="../quickRef/">Quick Ref</a>
      <a href="../physics.html">Physics</a>
      <a href="../preCalc.html">preCalc</a>
      <a href="../progElective.html">Prog. Elec.</a>
      <hr>
    </div>
    <!-- END HEADERS -->

    <h1>Connecting to the Pi and Using the Command Line</h1>

    <div class="refs">
      References:
      <ul>
        <li>
          <a href="https://docs.python.org/3/tutorial/datastructures.html#more-on-lists">Python Lists Documentation.</a>
        </li>
      </ul>

    </div>

    <div class="intro">
      <div class="comment">
        <h2>Logging in to the Pi</h2>

        <p>
        Log into the Pi using <em>putty</em> (Windows) or <em>ssh</em> (Linus or OSX) depending on your operating system.
        </p>

        <p>
          In this example we assume that we already know the ip address of the Pi, and it is <em>192.168.4.76</em>. We also assume that the Pi still has it's default name, "<em>raspberrypi</em>", and default username ("<em>pi</em>") and password ("<em>raspberry</em>"):
        </p>

        <div class="command">
        <pre class="command-line" data-user="pi" data-host="ledpi"><code class="language-bash" >ssh pi@raspberrypi.local
        </code></pre>
        </div>
      </div>

      <div class="comment">

        <h2>Navigating the Terminal window</h2>

        <b>Terminal commands</b>:
        <p>
        <b>ls</b>: list files in the directory.
        <div class="command">
        <pre class="command-line" data-user="pi" data-host="ledpi" data-output="2-3"><code class="language-bash" >ls
Bookshelf  Documents   Pictures   rpi-led-strip  Videos
Desktop    Downloads   Music      Public         Templates
        </code></pre>
        </div>
        </p>
      </div>

      <div class="comment">
        <b>cd</b>: change directory.
        <div class="command">
          <pre class="command-line" data-user="pi" data-host="ledpi"><code class="language-bash" >cd rpi-led-strip
          </code></pre>
          <p>
            The example programs for controlling the LED's are in the <b>pyLED</b> subdirectory of the <b>rpi-led-strip</b> directory, so we'll go into the <b>rpi-led-strip</b> directory first. The command gives no response; many terminal commands are silent if successful. However, you should see your prompt change to reflect the new directory you're in. We can check that we're in the right directry with the <b>pwd</b> command.
          </p>
        </div>
      </div>

      <div class="comment">
        <b>pwd</b>: print working directory.
        <div class="command">
          <pre class="command-line" data-user="pi" data-host="ledpi" data-output="2"><code class="language-bash" >pwd
/home/pi/rpi-led-strip
          </code></pre>
          <p>
            Prints the full path to the directory you're currently working in, which should be <b>/home/pi/rpi-led-strip</b>.
          </p>
        </div>

      </div>


      <div class="comment">
        <div class="command">
          <i>Moving forward:</i>
          <p>
            Now we list the files and directories in the working directory and change into the <b>pyLED</b> directory with the commands:
          </p>
          <pre class="command-line" data-user="pi" data-host="ledpi" data-output="2-4,7-8"><code class="language-bash" >ls
error.log  old-web      README.md      webServer
flags      PI_SETUP.md  ssh            wpa_supplicant.conf
NOTES.txt  pyLED        testTime.html
cd pyLED
ls
aRainbow.py  clearSwitch.py  startup.py  test2.py
clear.py     rainbow.py      test1.py    test3.py
          </code></pre>
        </div>
      </div>


      <div class="comment">
        <b>more</b>: showing the contents of a file.
        <div class="command">
          <pre class="command-line" data-user="pi" data-host="ledpi" data-output="2-7"><code class="language-bash" >more test1.py
import board
import neopixel

pixels = neopixel.NeoPixel(board.D18, 20)

pixels[2] = (10,0,0)
          </code></pre>
          <p>
            This shows the entire contents of the <i>test1.py</i> file. For longer files you can tap the Space Bar to move forward a page, or Enter to move forward one line.
          </p>
        </div>
      </div>


      <div class="comment">
        <b>python3</b>: calling the python interpreter to run a program.
        <div class="command">
          <pre class="command-line" data-user="pi" data-host="ledpi" data-output="2-7"><code class="language-bash" >python3 test1.py
Can't open /dev/mem: Permission denied
...
          </code></pre>
          <p>
            You'll see a long error output that starts with "Permission denied". Most python programs should not have this problem, but in order to control the LED's we need superuser permissions. We use <b>sudo</b> to aquire these permissions.
          </p>
        </div>
      </div>


      <div class="comment">
        <b>sudo</b>: run a program with superuser status.
        <div class="command">
          <pre class="command-line" data-user="pi" data-host="ledpi" data-output="2"><code class="language-bash" >sudo python3 test1.py
          </code></pre>
          <p>
            You should get no response from the terminal window, but the third LED should light up and turn red.
          </p>
          <!-- led Sim -->
          <script type="text/javascript">
            var leds = getLEDs();
            leds[2].style.backgroundColor = "red";
            console.log("hi")
          </script>
        </div>
      </div>








      <div class="comment">
        <b>cp</b>: copy file
        <div class="command">
          <pre class="command-line" data-user="pi" data-host="ledpi" data-output="3-4"><code class="language-bash" >cp test1.py myTest1.py
ls
aRainbow.py  clearSwitch.py  rainbow.py  test1.py  test3.py
clear.py     myTest1.py      startup.py  test2.py
          </code></pre>
          <p>
            Here we copy the <i>test1.py</i> file to a new file named <i>myTest1.py</i>, so when we try to make changes to the program (see next step), we won't run the risk of messing up a working program that we may need for reference.
          </p>
        </div>
      </div>


      <div class="comment">
        <b>nano</b>: file editor
        <div class="command">
          <pre class="command-line" data-user="pi" data-host="ledpi" data-output="2"><code class="language-bash" >nano myTest1.py
          </code></pre>
          <p>
            There are a number of file editors available, but we'll use <b>nano</b> because it's easy enough. Here we open the file for editing. <br>
          </p>
          <p>
            If you change the number <b>"2"</b> in the last line of the <i>myTest1.py</i> file to, for example, <b>"5"</b> you'll change which light lights up. We're old-school here, so you won't be able to use the mouse to navigate through the file, you'll have to use the arrow keys.
          </p>
          <ul>
            <li><b>Ctrl-S</b>: To save your changes.</li>
            <li><b>Ctrl-X</b>: To exit</li>
          </ul>
          <p>
            Since you already know the command to run the program, so you can test to see if your changes worked.
          </p>
        </div>
      </div>




    </div>




  </body>

  <script type="text/javascript" src="../prism.js"></script>

</html>
